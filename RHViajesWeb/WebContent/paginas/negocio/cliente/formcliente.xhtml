<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<rich:popupPanel id="idModalformcliente" modal="true" width="800"
		height="500" style="background-color: #FFFFFF">

		<f:facet name="header">
			<h:outputText id="idNomModal"
				value="#{clienteMBean.nombreFormulario}" />
		</f:facet>
		<f:facet name="controls">
			<h:outputLink value="#" style="border:0"
				onclick="#{rich:component('idModalformcliente')}.hide(); return false;">
				<h:graphicImage height="18" width="18"
					url="/resources/img/close.png" style="border:0" />
			</h:outputLink>
		</f:facet>

		<h:form id="idFormProveedor">
			<h:panelGrid id="idGridFormProveedor" border="0" cellpadding="0"
				cellspacing="0" style="width:100%;">
				<rich:tabPanel switchType="client" style="width:100%;"
					id="idTabPanelFormProveedor">
					<rich:tab header="Información Basica">
						<h:panelGrid border="0" cellpadding="0" cellspacing="0"
							style="width:100%;" columns="1" id="idGrdFrmProv">
							<h:panelGrid border="0" cellpadding="0" cellspacing="0"
								style="width:100%;" columns="4"
								columnClasses="col1fil1formulario,col2fil1formulario,col3fil1formulario,col4fil1formulario">
								<h:outputText value="Tipo Documento" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1">
									<h:selectOneMenu id="idFPSelTipoDoc"
										value="#{clienteMBean.cliente.documentoIdentidad.tipoDocumento.codigoEntero}"
										valueChangeListener="#{clienteMBean.cambiarTipoDocumento}"
										requiredMessage="Seleccione tipo de documento">
										<f:selectItem itemLabel="-Seleccione-" />
										<f:selectItems value="#{catalogoMBean.catalogoTipoDocumento}" />
										<a4j:ajax event="valueChange" render="idGrdFrmProv"
											execute="@this" immediate="true" />
									</h:selectOneMenu>
									<rich:message for="idFPSelTipoDoc" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>
								<h:outputText value="Numero Documento" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1">
									<h:inputText id="idFPInNumDoc"
										value="#{clienteMBean.cliente.documentoIdentidad.numeroDocumento}"
										requiredMessage="Ingrese el número de documento"
										maxlength="12" />
									<rich:message for="idFPInNumDoc" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>
								<h:outputText value="Apellido Paterno"
									rendered="#{clienteMBean.personaNatural}" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1" rendered="#{clienteMBean.personaNatural}">
									<h:inputText id="idApePatPro"
										value="#{clienteMBean.cliente.apellidoPaterno}" maxlength="40"
										styleClass="estilocampo1" />
									<rich:message for="idApePatPro" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>
								<h:outputText value="Apellido Materno"
									rendered="#{clienteMBean.personaNatural}" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1" rendered="#{clienteMBean.personaNatural}">
									<h:inputText id="idApeMatPro"
										value="#{clienteMBean.cliente.apellidoMaterno}" maxlength="40"
										styleClass="estilocampo1" />
									<rich:message for="idApeMatPro" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>
							</h:panelGrid>
							<h:panelGrid border="0" cellpadding="0" cellspacing="0"
								style="width:100%;" columns="2"
								columnClasses="col1fil2formulario,col2fil2formulario">
								<h:outputText value="Nombres"
									rendered="#{clienteMBean.personaNatural}" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1" rendered="#{clienteMBean.personaNatural}">
									<h:inputText id="idNomPro" size="90"
										value="#{clienteMBean.cliente.nombres}" maxlength="80"
										styleClass="estilocampo1" />
									<rich:message for="idNomPro" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>
								<h:outputText value="Razon Social"
									rendered="#{!clienteMBean.personaNatural}" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1" rendered="#{!clienteMBean.personaNatural}">
									<h:inputText id="idRazSocPro"
										value="#{clienteMBean.cliente.razonSocial}" maxlength="80"
										styleClass="estilocampo1" />
									<rich:message for="idRazSocPro" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>
							</h:panelGrid>
							<h:panelGrid border="0" cellpadding="0" cellspacing="0"
								style="width:100%;" columns="4"
								columnClasses="col1fil1formulario,col2fil1formulario,col3fil1formulario,col4fil1formulario"
								rendered="#{clienteMBean.personaNatural}">
								<h:outputText value="Estado Civil" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1">
									<h:selectOneMenu id="idFPSelEstCivil"
										value="#{clienteMBean.cliente.estadoCivil.codigoEntero}"
										requiredMessage="Seleccione el Estado Civil">
										<f:selectItem itemLabel="-Seleccione-" />
										<f:selectItems value="#{catalogoMBean.catalogoEstadoCivil}" />
									</h:selectOneMenu>
									<rich:message for="idFPSelEstCivil" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>
								<h:outputText value="Genero" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1">
									<h:selectOneMenu id="idFPSelGenero"
										value="#{clienteMBean.cliente.genero.codigoCadena}"
										requiredMessage="Seleccione el Estado Civil">
										<f:selectItem itemLabel="-Seleccione-" />
										<f:selectItem itemLabel="MASCULINO" itemValue="M" />
										<f:selectItem itemLabel="FEMENINO" itemValue="F" />
									</h:selectOneMenu>
									<rich:message for="idFPSelGenero" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>

								<h:outputText value="Fecha Nacimiento" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1">
									<rich:calendar id="idFPFecNacimiento"
										value="#{clienteMBean.cliente.fechaNacimiento}"
										datePattern="dd/MM/yyyy"
										requiredMessage="Ingrese la fecha de nacimiento" popup="true">
									</rich:calendar>
									<rich:message for="idFPFecNacimiento" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>

								<h:outputText value="" />
								<h:outputText value="" />

								<h:outputText value="Número Pasaporte" />
								<h:inputText value="#{clienteMBean.cliente.nroPasaporte}"
									maxlength="10" onkeypress="return js_soloEntero(event);" />

								<h:outputText value="Fecha Vcto Pasaporte" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1">
									<rich:calendar id="idFPFecVctoPass"
										value="#{clienteMBean.cliente.fechaVctoPasaporte}"
										datePattern="dd/MM/yyyy"
										requiredMessage="Ingrese la fecha de Vencimiento Pasaporte"
										popup="true">
									</rich:calendar>
									<rich:message for="idFPFecVctoPass" ajaxRendered="true"
										showSummary="true" showDetail="false" />
								</h:panelGrid>

							</h:panelGrid>
							<h:panelGrid border="0" cellpadding="0" cellspacing="0"
								style="width:100%;" columns="4"
								columnClasses="col1fil1formulario,col2fil1formulario,col3fil1formulario,col4fil1formulario">
								<h:outputText value="Rubro" rendered="false" />
								<h:panelGrid border="0" cellpadding="0" cellspacing="0"
									columns="1" rendered="false">
									<h:selectOneMenu id="idFPSelRubro"
										value="#{clienteMBean.cliente.rubro.codigoEntero}"
										requiredMessage="Seleccione el rubro">
										<f:selectItem itemLabel="-Seleccione-" />
										<f:selectItems value="#{catalogoMBean.catalogoRubro}" />
									</h:selectOneMenu>
									<rich:message for="idFPSelRubro" showSummary="true"
										showDetail="false" />
								</h:panelGrid>
								<h:outputText value="Fecha Registro" />

								<h:panelGrid border="0" columns="1">
									<h:outputText value="#{clienteMBean.cliente.fechaCreacion}">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</h:panelGrid>

								<h:outputText value="Nacionalidad" />
								<h:panelGrid cellpadding="0" cellspacing="0" border="0">
									<h:selectOneMenu id="idSelNacionalidad"
										value="#{clienteMBean.cliente.nacionalidad.codigoEntero}">
										<f:selectItem itemLabel="-Seleccione-" />
										<f:selectItems value="#{catalogoMBean.catalogoPais}"></f:selectItems>
									</h:selectOneMenu>
									<rich:message for="idSelNacionalidad" showSummary="true"
										showDetail="false"></rich:message>
								</h:panelGrid>
								
								<h:outputText value="" />
								<h:outputText value="" />

							</h:panelGrid>
						</h:panelGrid>
					</rich:tab>
					<rich:tab header="Direcciones">
						<h:panelGrid border="0" cellpadding="o" cellspacing="0"
							style="width:100%;" columns="1">

							<rich:dataTable style="width:100%;" id="idTablaDirecciones"
								value="#{clienteMBean.cliente.listaDirecciones}" var="fila">
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Direccion" />
									</f:facet>
									<h:outputText value="#{fila.direccion}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Departamento" />
									</f:facet>
									<h:outputText value="#{fila.ubigeo.departamento.nombre}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Provincia" />
									</f:facet>
									<h:outputText value="#{fila.ubigeo.provincia.nombre}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Distrito" />
									</f:facet>
									<h:outputText value="#{fila.ubigeo.distrito.nombre}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Oficina Principal" />
									</f:facet>
									<h:outputText value="#{fila.principal?'SI':'NO'}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Opciones" />
									</f:facet>
									<h:panelGrid border="0" cellpadding="0" cellspacing="0"
										style="width:100%;" columns="1">
										<a4j:commandButton value="Editar"
											render="idNomModalDireccion,idGrdFDir"
											action="#{clienteMBean.editarDireccionCliente(fila)}"
											oncomplete="#{rich:component('idModalFormDireccion')}.show();" />
										<a4j:commandButton value="Eliminar"
											render="idTablaDirecciones"
											action="#{clienteMBean.eliminarDireccionCliente(fila)}" />
									</h:panelGrid>
								</rich:column>
								<f:facet name="header">
									<h:panelGrid columns="1" style="width:100%;text-align:right;">

										<a4j:commandButton value="Agregar"
											action="#{clienteMBean.nuevaDireccion()}"
											oncomplete="#{rich:component('idModalFormDireccion')}.show();"
											render="idNomModalDireccion,idGrdFDir" />

									</h:panelGrid>
								</f:facet>
							</rich:dataTable>

						</h:panelGrid>
					</rich:tab>
					<rich:tab header="Contactos">
						<h:panelGrid border="0" cellpadding="o" cellspacing="0"
							style="width:100%;" columns="4">
							<rich:dataTable style="width:100%;" id="idTablaContactos"
								value="#{clienteMBean.cliente.listaContactos}" var="fila">
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Nombre	" />
									</f:facet>
									<h:outputText value="#{fila.nombreCompleto}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Area" />
									</f:facet>
									<h:outputText value="#{fila.area.nombre}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Anexo" />
									</f:facet>
									<h:outputText value="#{fila.anexo}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Opciones" />
									</f:facet>
									<h:panelGrid border="0" cellpadding="0" cellspacing="0"
										style="width:100%;" columns="1">
										<a4j:commandButton value="Editar"
											action="#{clienteMBean.editarContactoCliente(fila)}"
											render="idNomModalContacto,idGrdFCon" immediate="true"
											oncomplete="#{rich:component('idModalFormContacto')}.show();" />
										<a4j:commandButton value="Eliminar" render="idTablaContactos"
											immediate="true"
											action="#{clienteMBean.eliminarContactoCliente(fila)}" />

									</h:panelGrid>
								</rich:column>
								<f:facet name="header">
									<h:panelGrid columns="1" style="width:100%;text-align:right;">
										<a4j:commandButton value="Agregar"
											action="#{clienteMBean.nuevoContacto}"
											oncomplete="#{rich:component('idModalFormContacto')}.show();"
											render="idNomModalContacto,idGrdFCon" />
									</h:panelGrid>
								</f:facet>
							</rich:dataTable>
						</h:panelGrid>
					</rich:tab>
					<rich:tab>
						<f:facet name="header">
							<h:outputText value="Archivos Adjuntos" />
						</f:facet>

						<h:panelGrid cellpadding="0" cellspacing="0" border="0"
							columns="1" style="width:100%;" id="idPnAdmArchivoAdjunto">
							<f:facet name="header">
								<h:panelGrid cellpadding="0" cellspacing="0" border="0"
									columns="1" style="width:100%;text-align:left;">
									<h:outputText value="Archivos Adjuntos" />
									<hr style="width: 100%;" />
								</h:panelGrid>
							</f:facet>
							<rich:dataTable value="#{clienteMBean.listaArchivos}" var="fila"
								style="width:100%;">
								<f:facet name="noData">
									<h:panelGrid cellpadding="0" cellspacing="0" border="0"
										columns="1" style="width:100%;text-align:center">
										<h:outputText value="No se adjutaron archivos" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="header">
									<h:panelGrid cellpadding="0" cellspacing="0" border="0"
										columns="1" style="width:100%;text-align:right;">
										<a4j:commandButton value="Adjuntar Archivos"
											oncomplete="mostrarModal3('idModalAdjuntarArchivos2')"></a4j:commandButton>
									</h:panelGrid>
								</f:facet>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Documento" />
									</f:facet>
									<h:selectOneMenu value="#{fila.documento.codigoEntero}"
										rendered="#{fila.codigoEntero == null}">
										<f:selectItem itemLabel="-Seleccione-" />
										<f:selectItems
											value="#{catalogoMBean.catalogoDocumentosAdicionales}"></f:selectItems>
									</h:selectOneMenu>
									<h:outputText value="#{fila.documento.nombre}"
										rendered="#{fila.codigoEntero != null}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Descripción de Documento" />
									</f:facet>
									<h:outputText value="#{fila.descripcionArchivo}"
										rendered="#{fila.codigoEntero != null}" />
									<h:inputText value="#{fila.descripcionArchivo}"
										rendered="#{fila.codigoEntero == null}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Nombre de Archivo" />
									</f:facet>
									<h:outputText value="#{fila.archivo.nombreArchivo}" />
								</rich:column>
								<rich:column style="text-align:center;" >
									<h:panelGrid cellpadding="0" cellspacing="2" border="0"
										columns="2">
										<a4j:commandLink
											action="#{clienteMBean.seleccionarArchivo(fila.codigoEntero)}"
											rendered="#{fila.codigoEntero != null}"
											oncomplete="clicBoton('idformadmcliente:idbtnExportarDocAdjunto')">
											<h:graphicImage value="/resources/img/dowicon.png">
											</h:graphicImage>
										</a4j:commandLink>
										<a4j:commandLink
											action="#{clienteMBean.eliminarAdjunto(fila.codigoEntero)}"
											render="idPnAdmArchivoAdjunto">
											<h:graphicImage value="/resources/img/tacho.gif">
											</h:graphicImage>
										</a4j:commandLink>
									</h:panelGrid>
								</rich:column>
							</rich:dataTable>
						</h:panelGrid>
					</rich:tab>
				</rich:tabPanel>

				<f:facet name="footer">
					<h:panelGrid border="0" cellpadding="0" cellspacing="0"
						style="width:100%;text-align:center;">
						<a4j:commandButton value="Grabar" styleClass="estiloBoton1"
							actionListener="#{clienteMBean.ejecutarMetodo}"
							render="idFormHidden,idPanelHidden,idPanelBotones,idModalcorrecto,idModalError"
							oncomplete="mostrarModal('idformadmcliente')" />
					</h:panelGrid>
				</f:facet>
			</h:panelGrid>

		</h:form>

	</rich:popupPanel>
</ui:composition>
